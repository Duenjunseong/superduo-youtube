{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}{% if form.instance.pk %}그룹 수정{% else %}새 작업 그룹 만들기{% endif %}{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>{% if form.instance.pk %}그룹 수정: {{ form.instance.name }}{% else %}새 작업 그룹 만들기{% endif %}</h2>

    <form method="post" novalidate>
        {% csrf_token %}
        
        <div class="mb-3">
            <label for="{{ form.name.id_for_label }}" class="form-label">{{ form.name.label }}</label>
            {% render_field form.name class+="form-control" %}
            {% if form.name.help_text %}
                <div class="form-text">{{ form.name.help_text }}</div>
            {% endif %}
            {% for error in form.name.errors %}
                <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
        </div>

        <div class="mb-3">
            <label for="{{ form.description.id_for_label }}" class="form-label">{{ form.description.label }}</label>
            {% render_field form.description class+="form-control" rows="3" %}
            {% if form.description.help_text %}
                <div class="form-text">{{ form.description.help_text }}</div>
            {% endif %}
            {% for error in form.description.errors %}
                <div class="invalid-feedback d-block">{{ error }}</div>
            {% endfor %}
        </div>
        
        <button type="submit" class="btn btn-primary">{% if form.instance.pk %}변경사항 저장{% else %}그룹 생성{% endif %}</button>
        <a href="{% url 'video_processor:group_list' %}" class="btn btn-secondary ms-2">취소</a>
    </form>
</div>
{% endblock %} 